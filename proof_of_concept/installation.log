[0;31m[2025-10-10 20:03:22] ERROR:[0m This script must be run as database_user
[0;32m[2025-10-10 20:18:22][0m Starting TPC-H database creation process...
[0;32m[2025-10-10 20:18:22][0m Scale Factor: 1GB
[0;32m[2025-10-10 20:18:22][0m PostgreSQL Version: 18
[0;32m[2025-10-10 20:18:22][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-10 20:18:22] Starting dependency installation
[2025-10-10 20:18:22] Installing system dependencies
[2025-10-10 20:19:59] System dependencies installed
[2025-10-10 20:20:00] Installing PostgreSQL 18
[0;32m[2025-10-10 20:32:52][0m Starting TPC-H database creation process...
[0;32m[2025-10-10 20:32:52][0m Scale Factor: 1GB
[0;32m[2025-10-10 20:32:52][0m PostgreSQL Version: 18
[0;32m[2025-10-10 20:32:52][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-10 20:32:52] Starting dependency installation
[2025-10-10 20:32:52] Installing system dependencies
[0;31m[2025-10-10 20:46:12] ERROR:[0m This script must be run as database_user
[0;32m[2025-10-10 20:46:49][0m Starting TPC-H database creation process...
[0;32m[2025-10-10 20:46:49][0m Scale Factor: 1GB
[0;32m[2025-10-10 20:46:49][0m PostgreSQL Version: 18
[0;32m[2025-10-10 20:46:49][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-10 20:46:49] Starting dependency installation
[2025-10-10 20:46:49] Installing system dependencies
[0;31m[2025-10-10 20:58:30] ERROR:[0m This script must be run as database_user
[0;31m[2025-10-10 21:06:28] ERROR:[0m This script must be run as database_user
[0;32m[2025-10-10 21:07:26][0m Starting TPC-H database creation process...
[0;32m[2025-10-10 21:07:26][0m Scale Factor: 1GB
[0;32m[2025-10-10 21:07:26][0m PostgreSQL Version: 18
[0;32m[2025-10-10 21:07:26][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-10 21:07:26] Starting dependency installation
[2025-10-10 21:07:26] Cleaning up old PostgreSQL repository configurations
[2025-10-10 21:07:26] Old repository configurations removed
[2025-10-10 21:07:26] Installing system dependencies
[2025-10-10 21:07:41] System dependencies installed
[2025-10-10 21:07:41] Installing PostgreSQL 18
[2025-10-10 21:07:41] Adding PostgreSQL GPG key...
[2025-10-10 21:07:42] GPG key added successfully
[2025-10-10 21:07:42] Adding PostgreSQL repository...
[2025-10-10 21:07:43] Updating package lists...
[2025-10-10 21:07:53] Installing PostgreSQL packages...
[2025-10-10 21:13:33] PostgreSQL 18 installed successfully
[2025-10-10 21:13:34] Configuring PostgreSQL
[2025-10-10 21:13:44] PostgreSQL configured and restarted
[2025-10-10 21:13:44] Setting up database user
[2025-10-10 21:13:45] User database_user already exists
[2025-10-10 21:13:45] Database user setup completed
[2025-10-10 21:13:45] All dependencies installed successfully
[2025-10-10 21:13:45] Step 2: Setting up database and user
[2025-10-10 21:13:45] Creating database user: tpch_user
[1;33m[2025-10-10 21:13:45] WARNING:[0m User may already exist
[2025-10-10 21:13:45] Creating database: tpch_db
[1;33m[2025-10-10 21:13:45] WARNING:[0m Database may already exist
[2025-10-10 21:13:45] Granting permissions
[0;32m[2025-10-10 21:44:43][0m Starting TPC-H database creation process...
[0;32m[2025-10-10 21:44:43][0m Scale Factor: 1GB
[0;32m[2025-10-10 21:44:43][0m PostgreSQL Version: 18
[0;32m[2025-10-10 21:44:43][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-10 21:44:43] Starting dependency installation
[2025-10-10 21:44:43] Cleaning up old PostgreSQL repository configurations
[2025-10-10 21:44:44] Old repository configurations removed
[2025-10-10 21:44:44] Installing system dependencies
[2025-10-10 21:45:01] System dependencies installed
[2025-10-10 21:45:01] Installing PostgreSQL 18
[2025-10-10 21:45:01] Adding PostgreSQL GPG key...
[2025-10-10 21:53:11] GPG key added successfully
[2025-10-10 21:53:11] Adding PostgreSQL repository...
[2025-10-10 21:53:11] Updating package lists...
[2025-10-10 21:53:22] Installing PostgreSQL packages...
[2025-10-10 21:53:28] PostgreSQL 18 installed successfully
[2025-10-10 21:53:28] Configuring PostgreSQL
[2025-10-10 21:53:33] Waiting for PostgreSQL to be ready...
[2025-10-10 21:54:10] ERROR: PostgreSQL failed to start after 30 seconds
[0;32m[2025-10-11 00:39:53][0m Starting TPC-H database creation process...
[0;32m[2025-10-11 00:39:53][0m Scale Factor: 1GB
[0;32m[2025-10-11 00:39:53][0m PostgreSQL Version: 18
[0;32m[2025-10-11 00:39:53][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-11 00:39:53] Starting dependency installation
[2025-10-11 00:39:53] =========================================
[2025-10-11 00:39:53] RUNNING IN LOW MEMORY MODE
[2025-10-11 00:39:53] Suitable for Raspberry Pi and systems <2GB RAM
[2025-10-11 00:39:53] =========================================
[2025-10-11 00:39:53] Cleaning up old PostgreSQL repository configurations
[2025-10-11 00:39:53] Old repository configurations removed
[2025-10-11 00:39:53] Installing system dependencies
[2025-10-11 00:40:08] System dependencies installed
[2025-10-11 00:40:08] Installing PostgreSQL 18
[2025-10-11 00:40:08] Adding PostgreSQL GPG key...
[2025-10-11 00:40:26] GPG key added successfully
[2025-10-11 00:40:26] Adding PostgreSQL repository...
[2025-10-11 00:40:26] Updating package lists...
[2025-10-11 00:40:38] Installing PostgreSQL packages...
[2025-10-11 00:40:44] PostgreSQL 18 installed successfully
[2025-10-11 00:40:44] Configuring PostgreSQL
[2025-10-11 00:40:49] Checking PostgreSQL status...
â— postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/usr/lib/systemd/system/postgresql.service; enabled; preset: enabled)
     Active: active (exited) since Fri 2025-10-10 21:13:42 BST; 3h 27min ago
 Invocation: bdcabc5bfaa847a5bfeff9e5ec5e262c
   Main PID: 8324 (code=exited, status=0/SUCCESS)
        CPU: 32ms

Oct 10 21:13:42 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 10 21:13:42 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 00:40:49] Waiting for PostgreSQL to be ready...
[2025-10-11 00:41:26] PostgreSQL failed to start. Checking logs...
2025-10-10 21:13:24.140 BST [7949] LOG:  starting PostgreSQL 18.0 (Debian 18.0-1.pgdg13+3) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-10-10 21:13:24.141 BST [7949] LOG:  listening on IPv6 address "::1", port 5432
2025-10-10 21:13:24.141 BST [7949] LOG:  listening on IPv4 address "127.0.0.1", port 5432
2025-10-10 21:13:24.148 BST [7949] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-10-10 21:13:24.171 BST [7955] LOG:  database system was shut down at 2025-10-10 21:12:49 BST
2025-10-10 21:13:24.191 BST [7949] LOG:  database system is ready to accept connections
2025-10-10 21:13:42.118 BST [7949] LOG:  received fast shutdown request
2025-10-10 21:13:42.125 BST [7949] LOG:  aborting any active transactions
2025-10-10 21:13:42.138 BST [7949] LOG:  background worker "logical replication launcher" (PID 7958) exited with exit code 1
2025-10-10 21:13:42.138 BST [7953] LOG:  shutting down
2025-10-10 21:13:42.144 BST [7953] LOG:  checkpoint starting: shutdown immediate
2025-10-10 21:13:42.187 BST [7953] LOG:  checkpoint complete: wrote 0 buffers (0.0%), wrote 3 SLRU buffers; 0 WAL file(s) added, 0 removed, 0 recycled; write=0.010 s, sync=0.010 s, total=0.049 s; sync files=2, longest=0.008 s, average=0.005 s; distance=0 kB, estimate=0 kB; lsn=0/175F5F0, redo lsn=0/175F5F0
2025-10-10 21:13:42.237 BST [7949] LOG:  database system is shut down
2025-10-10 21:13:42.771 BST [8322] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-10 21:13:42.771 BST [8322] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-10 21:13:42.771 BST [8322] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
2025-10-10 21:53:33.780 BST [8890] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-10 21:53:33.780 BST [8890] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-10 21:53:33.781 BST [8890] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
2025-10-11 00:40:49.461 BST [9997] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-11 00:40:49.461 BST [9997] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-11 00:40:49.461 BST [9997] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
Oct 10 21:12:41 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 10 21:12:41 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
Oct 10 21:13:41 archraspberrypi systemd[1]: postgresql.service: Deactivated successfully.
Oct 10 21:13:41 archraspberrypi systemd[1]: Stopped postgresql.service - PostgreSQL RDBMS.
Oct 10 21:13:41 archraspberrypi systemd[1]: Stopping postgresql.service - PostgreSQL RDBMS...
Oct 10 21:13:42 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 10 21:13:42 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 00:41:26] ERROR: PostgreSQL failed to start after 30 seconds. Check logs above.
[0;32m[2025-10-11 00:52:04][0m Starting TPC-H database creation process...
[0;32m[2025-10-11 00:52:04][0m Scale Factor: 1GB
[0;32m[2025-10-11 00:52:04][0m PostgreSQL Version: 18
[0;32m[2025-10-11 00:52:04][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-11 00:52:04] Starting dependency installation
[2025-10-11 00:52:04] =========================================
[2025-10-11 00:52:04] RUNNING IN LOW MEMORY MODE
[2025-10-11 00:52:04] Suitable for Raspberry Pi and systems <2GB RAM
[2025-10-11 00:52:04] =========================================
[2025-10-11 00:52:04] Cleaning up old PostgreSQL repository configurations
[2025-10-11 00:52:04] Old repository configurations removed
[2025-10-11 00:52:04] Installing system dependencies
[2025-10-11 00:52:20] System dependencies installed
[2025-10-11 00:52:20] Installing PostgreSQL 18
[2025-10-11 00:52:20] Adding PostgreSQL GPG key...
[2025-10-11 00:52:25] GPG key added successfully
[2025-10-11 00:52:25] Adding PostgreSQL repository...
[2025-10-11 00:52:25] Updating package lists...
[2025-10-11 00:52:36] Installing PostgreSQL packages...
[2025-10-11 00:52:42] PostgreSQL 18 installed successfully
[2025-10-11 00:52:42] Configuring PostgreSQL
[2025-10-11 00:52:48] Checking PostgreSQL status...
â— postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/usr/lib/systemd/system/postgresql.service; enabled; preset: enabled)
     Active: active (exited) since Fri 2025-10-10 21:13:42 BST; 3h 39min ago
 Invocation: bdcabc5bfaa847a5bfeff9e5ec5e262c
   Main PID: 8324 (code=exited, status=0/SUCCESS)
        CPU: 32ms

Oct 10 21:13:42 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 10 21:13:42 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 00:52:48] Waiting for PostgreSQL to be ready...
[2025-10-11 00:53:24] PostgreSQL failed to start. Checking logs...
2025-10-10 21:13:24.140 BST [7949] LOG:  starting PostgreSQL 18.0 (Debian 18.0-1.pgdg13+3) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-10-10 21:13:24.141 BST [7949] LOG:  listening on IPv6 address "::1", port 5432
2025-10-10 21:13:24.141 BST [7949] LOG:  listening on IPv4 address "127.0.0.1", port 5432
2025-10-10 21:13:24.148 BST [7949] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-10-10 21:13:24.171 BST [7955] LOG:  database system was shut down at 2025-10-10 21:12:49 BST
2025-10-10 21:13:24.191 BST [7949] LOG:  database system is ready to accept connections
2025-10-10 21:13:42.118 BST [7949] LOG:  received fast shutdown request
2025-10-10 21:13:42.125 BST [7949] LOG:  aborting any active transactions
2025-10-10 21:13:42.138 BST [7949] LOG:  background worker "logical replication launcher" (PID 7958) exited with exit code 1
2025-10-10 21:13:42.138 BST [7953] LOG:  shutting down
2025-10-10 21:13:42.144 BST [7953] LOG:  checkpoint starting: shutdown immediate
2025-10-10 21:13:42.187 BST [7953] LOG:  checkpoint complete: wrote 0 buffers (0.0%), wrote 3 SLRU buffers; 0 WAL file(s) added, 0 removed, 0 recycled; write=0.010 s, sync=0.010 s, total=0.049 s; sync files=2, longest=0.008 s, average=0.005 s; distance=0 kB, estimate=0 kB; lsn=0/175F5F0, redo lsn=0/175F5F0
2025-10-10 21:13:42.237 BST [7949] LOG:  database system is shut down
2025-10-10 21:13:42.771 BST [8322] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-10 21:13:42.771 BST [8322] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-10 21:13:42.771 BST [8322] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
2025-10-10 21:53:33.780 BST [8890] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-10 21:53:33.780 BST [8890] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-10 21:53:33.781 BST [8890] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
2025-10-11 00:40:49.461 BST [9997] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-11 00:40:49.461 BST [9997] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-11 00:40:49.461 BST [9997] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
2025-10-11 00:52:48.207 BST [10665] FATAL:  could not map anonymous shared memory: Cannot allocate memory
2025-10-11 00:52:48.207 BST [10665] HINT:  This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space, or huge pages. To reduce the request size (currently 2245074944 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing "shared_buffers" or "max_connections".
2025-10-11 00:52:48.207 BST [10665] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
Oct 10 21:12:41 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 10 21:12:41 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
Oct 10 21:13:41 archraspberrypi systemd[1]: postgresql.service: Deactivated successfully.
Oct 10 21:13:41 archraspberrypi systemd[1]: Stopped postgresql.service - PostgreSQL RDBMS.
Oct 10 21:13:41 archraspberrypi systemd[1]: Stopping postgresql.service - PostgreSQL RDBMS...
Oct 10 21:13:42 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 10 21:13:42 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 00:53:25] ERROR: PostgreSQL failed to start after 30 seconds. Check logs above.
[0;32m[2025-10-11 01:21:39][0m Starting TPC-H database creation process...
[0;32m[2025-10-11 01:21:39][0m Scale Factor: 1GB
[0;32m[2025-10-11 01:21:39][0m PostgreSQL Version: 18
[0;32m[2025-10-11 01:21:39][0m =========================================
[0;32m[2025-10-11 01:21:39][0m RUNNING IN LOW MEMORY MODE
[0;32m[2025-10-11 01:21:39][0m Suitable for Raspberry Pi and systems <2GB RAM
[0;32m[2025-10-11 01:21:39][0m =========================================
[0;32m[2025-10-11 01:21:39][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-11 01:21:39] Starting dependency installation
[2025-10-11 01:21:39] =========================================
[2025-10-11 01:21:39] RUNNING IN LOW MEMORY MODE
[2025-10-11 01:21:39] Suitable for Raspberry Pi and systems <2GB RAM
[2025-10-11 01:21:39] =========================================
[2025-10-11 01:21:39] Cleaning up old PostgreSQL repository configurations
[2025-10-11 01:21:39] Old repository configurations removed
[2025-10-11 01:21:39] Installing system dependencies
[2025-10-11 01:21:55] System dependencies installed
[2025-10-11 01:21:55] Installing PostgreSQL 18
[2025-10-11 01:21:55] Adding PostgreSQL GPG key...
[2025-10-11 01:21:57] GPG key added successfully
[2025-10-11 01:21:57] Adding PostgreSQL repository...
[2025-10-11 01:21:58] Updating package lists...
[2025-10-11 01:22:09] Installing PostgreSQL packages...
[2025-10-11 01:22:14] PostgreSQL 18 installed successfully
[2025-10-11 01:22:14] Configuring PostgreSQL
[2025-10-11 01:22:19] Stopping PostgreSQL to apply configuration...
[2025-10-11 01:22:22] Detected 906MB total memory
[2025-10-11 01:22:22] LOW MEMORY MODE: Using minimal settings for systems with <2GB RAM
[2025-10-11 01:22:22] Starting PostgreSQL with new configuration...
[2025-10-11 01:22:25] Checking PostgreSQL status...
â— postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/usr/lib/systemd/system/postgresql.service; enabled; preset: enabled)
     Active: active (exited) since Sat 2025-10-11 01:22:25 BST; 111ms ago
 Invocation: 30787e0e76a5438fa7e0d664779e8890
    Process: 11435 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
   Main PID: 11435 (code=exited, status=0/SUCCESS)
        CPU: 44ms

Oct 11 01:22:25 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 11 01:22:25 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 01:22:25] Waiting for PostgreSQL to be ready...
[2025-10-11 01:22:25] PostgreSQL is ready and accepting connections
[2025-10-11 01:22:25] PostgreSQL configured and started successfully
[2025-10-11 01:22:25] Setting up database user
[2025-10-11 01:22:26] Database user setup completed
[2025-10-11 01:22:26] All dependencies installed successfully
[2025-10-11 01:22:26] 
[2025-10-11 01:22:26] PostgreSQL configured with low-memory settings:
[2025-10-11 01:22:26]   - shared_buffers: 128MB
[2025-10-11 01:22:26]   - work_mem: 4MB
[2025-10-11 01:22:26]   - maintenance_work_mem: 64MB
[2025-10-11 01:22:26]   - effective_cache_size: 256MB
[2025-10-11 01:22:26]   - max_connections: 20
[2025-10-11 01:22:26] Checking PostgreSQL availability...
[2025-10-11 01:22:26] PostgreSQL is available
[2025-10-11 01:22:26] Step 2: Setting up database and user
[2025-10-11 01:22:26] Creating database user: tpch_user
DO
[2025-10-11 01:22:26] Creating database: tpch_db
NOTICE:  database "tpch_db" does not exist, skipping
DROP DATABASE
ERROR:  invalid LC_COLLATE locale name: "en_US.UTF-8"
[2025-10-11 01:22:27] Granting permissions
psql: error: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  database "tpch_db" does not exist
[2025-10-11 01:22:27] Step 3: Setting up TPC-H tools
[2025-10-11 01:22:27] Downloading TPC-H tools...
[2025-10-11 01:22:28] Building TPC-H dbgen tool...
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o build.o build.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o driver.o driver.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o bm_utils.o bm_utils.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o rnd.o rnd.c
In file included from dss.h:81,
                 from build.c:45:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:28,
                 from build.c:35:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
bm_utils.c: In function â€˜mk_ascdateâ€™:
bm_utils.c:544:16: error: implicit declaration of function â€˜strdupâ€™ [-Wimplicit-function-declaration]
  544 |         m[i] = strdup(t.alpha);
      |                ^~~~~~
bm_utils.c:544:16: warning: incompatible implicit declaration of built-in function â€˜strdupâ€™ [-Wbuiltin-declaration-mismatch]
make: *** [<builtin>: bm_utils.o] Error 1
make: *** Waiting for unfinished jobs....
[2025-10-11 01:22:30] ERROR: Failed to build dbgen tool
[0;32m[2025-10-11 01:39:25][0m Starting TPC-H database creation process...
[0;32m[2025-10-11 01:39:25][0m Scale Factor: 1GB
[0;32m[2025-10-11 01:39:25][0m PostgreSQL Version: 18
[0;32m[2025-10-11 01:39:25][0m =========================================
[0;32m[2025-10-11 01:39:25][0m RUNNING IN LOW MEMORY MODE
[0;32m[2025-10-11 01:39:25][0m Suitable for Raspberry Pi and systems <2GB RAM
[0;32m[2025-10-11 01:39:25][0m =========================================
[0;32m[2025-10-11 01:39:25][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-11 01:39:25] Starting dependency installation
[2025-10-11 01:39:25] =========================================
[2025-10-11 01:39:25] RUNNING IN LOW MEMORY MODE
[2025-10-11 01:39:25] Suitable for Raspberry Pi and systems <2GB RAM
[2025-10-11 01:39:25] =========================================
[2025-10-11 01:39:25] Cleaning up old PostgreSQL repository configurations
[2025-10-11 01:39:25] Old repository configurations removed
[2025-10-11 01:39:25] Installing system dependencies
[2025-10-11 01:39:41] System dependencies installed
[2025-10-11 01:39:41] Installing PostgreSQL 18
[2025-10-11 01:39:41] Adding PostgreSQL GPG key...
[2025-10-11 01:39:44] GPG key added successfully
[2025-10-11 01:39:44] Adding PostgreSQL repository...
[2025-10-11 01:39:44] Updating package lists...
[2025-10-11 01:40:03] Installing PostgreSQL packages...
[2025-10-11 01:40:09] PostgreSQL 18 installed successfully
[2025-10-11 01:40:09] Configuring PostgreSQL
[2025-10-11 01:40:14] Stopping PostgreSQL to apply configuration...
[2025-10-11 01:40:17] Detected 906MB total memory
[2025-10-11 01:40:17] LOW MEMORY MODE: Using minimal settings for systems with <2GB RAM
[2025-10-11 01:40:17] Starting PostgreSQL with new configuration...
[2025-10-11 01:40:20] Checking PostgreSQL status...
â— postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/usr/lib/systemd/system/postgresql.service; enabled; preset: enabled)
     Active: active (exited) since Sat 2025-10-11 01:40:20 BST; 96ms ago
 Invocation: b6df9e6f9180485a9a26aab0f9683fe8
    Process: 12186 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
   Main PID: 12186 (code=exited, status=0/SUCCESS)
        CPU: 44ms

Oct 11 01:40:20 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 11 01:40:20 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 01:40:20] Waiting for PostgreSQL to be ready...
[2025-10-11 01:40:20] PostgreSQL is ready and accepting connections
[2025-10-11 01:40:20] PostgreSQL configured and started successfully
[2025-10-11 01:40:20] Setting up database user
[2025-10-11 01:40:21] User database_user already exists
[2025-10-11 01:40:21] Database user setup completed
[2025-10-11 01:40:21] All dependencies installed successfully
[2025-10-11 01:40:21] 
[2025-10-11 01:40:21] PostgreSQL configured with low-memory settings:
[2025-10-11 01:40:21]   - shared_buffers: 128MB
[2025-10-11 01:40:21]   - work_mem: 4MB
[2025-10-11 01:40:21]   - maintenance_work_mem: 64MB
[2025-10-11 01:40:21]   - effective_cache_size: 256MB
[2025-10-11 01:40:21]   - max_connections: 20
[2025-10-11 01:40:21] Checking PostgreSQL availability...
[2025-10-11 01:40:21] PostgreSQL is available
[2025-10-11 01:40:21] Step 2: Setting up database and user
[2025-10-11 01:40:21] Creating database user: tpch_user
DO
[2025-10-11 01:40:22] Creating database: tpch_db
[2025-10-11 01:40:22] Using locale: C.utf8
NOTICE:  database "tpch_db" does not exist, skipping
DROP DATABASE
CREATE DATABASE
[2025-10-11 01:40:23] Granting permissions
GRANT
[2025-10-11 01:40:23] Step 3: Setting up TPC-H tools
[2025-10-11 01:40:23] TPC-H tools already exist, skipping download
[2025-10-11 01:40:23] dbgen not found, rebuilding...
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o build.o build.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o driver.o driver.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o bm_utils.o bm_utils.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o rnd.o rnd.c
In file included from bm_utils.c:60:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/string.h:26,
                 from bm_utils.c:1:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
In file included from dss.h:81,
                 from build.c:45:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:28,
                 from build.c:35:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o print.o print.c
In file included from dss.h:81,
                 from print.c:46:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:28,
                 from print.c:37:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o load_stub.o load_stub.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o bcd2.o bcd2.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o speed_seed.o speed_seed.c
In file included from load_stub.c:32:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:28,
                 from load_stub.c:31:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
In file included from dss.h:81,
                 from speed_seed.c:53:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:28,
                 from speed_seed.c:51:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o text.o text.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o permute.o permute.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o rng64.o rng64.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o qgen.o qgen.c
In file included from qgen.c:39:
config.h:151:9: warning: "_POSIX_C_SOURCE" redefined
  151 | #define _POSIX_C_SOURCE 200112L
      |         ^~~~~~~~~~~~~~~
In file included from /usr/include/aarch64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:28,
                 from qgen.c:30:
/usr/include/features.h:313:10: note: this is the location of the previous definition
  313 | # define _POSIX_C_SOURCE        200809L
      |          ^~~~~~~~~~~~~~~
config.h:152:9: warning: "_POSIX_SOURCE" redefined
  152 | #define _POSIX_SOURCE
      |         ^~~~~~~~~~~~~
/usr/include/features.h:311:10: note: this is the location of the previous definition
  311 | # define _POSIX_SOURCE  1
      |          ^~~~~~~~~~~~~
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o varsub.o varsub.c
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64  -O -o dbgen build.o driver.o bm_utils.o rnd.o print.o load_stub.o bcd2.o speed_seed.o text.o permute.o rng64.o -lm
gcc -g -DDBNAME=\"dss\" -DMAC -DORACLE -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64  -O -o qgen build.o bm_utils.o qgen.o rnd.o varsub.o text.o bcd2.o permute.o speed_seed.o rng64.o -lm
[2025-10-11 01:40:25] Step 4: Generating and loading TPC-H data (this will take a while...)
[2025-10-11 01:40:25] Generating TPC-H data with scale factor 1...
TPC-H Population Generator (Version 2.14.0)
Copyright Transaction Processing Performance Council 1994 - 2010
[2025-10-11 01:43:12] Creating TPC-H schema...
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
[2025-10-11 01:43:13] Loading data into PostgreSQL...
[2025-10-11 01:43:13] Loading table: nation
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/nation.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:13] Loading table: region
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/region.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:13] Loading table: part
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/part.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:14] Loading table: supplier
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/supplier.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:14] Loading table: partsupp
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/partsupp.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:14] Loading table: customer
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/customer.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:15] Loading table: orders
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/orders.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:15] Loading table: lineitem
ERROR:  could not open file "/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/lineitem.tbl" for reading: Permission denied
HINT:  COPY FROM instructs the PostgreSQL server process to read a file. You may want a client-side facility such as psql's \copy.
[2025-10-11 01:43:15] Data loading completed
[2025-10-11 01:43:15] Step 5: Creating indexes and constraints
[2025-10-11 01:43:15] Creating primary keys and indexes...
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
ANALYZE
[2025-10-11 01:43:17] Indexes and constraints created
[2025-10-11 01:43:17] TPC-H database creation completed successfully!
[2025-10-11 01:43:17] Database: tpch_db
[2025-10-11 01:43:17] User: tpch_user
[2025-10-11 01:43:17] Scale Factor: 1GB
[2025-10-11 01:43:17] Check /home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/installation.log for detailed logs
[0;32m[2025-10-11 01:52:48][0m Starting TPC-H database creation process...
[0;32m[2025-10-11 01:52:48][0m Scale Factor: 1GB
[0;32m[2025-10-11 01:52:48][0m PostgreSQL Version: 18
[0;32m[2025-10-11 01:52:48][0m =========================================
[0;32m[2025-10-11 01:52:48][0m RUNNING IN LOW MEMORY MODE
[0;32m[2025-10-11 01:52:48][0m Suitable for Raspberry Pi and systems <2GB RAM
[0;32m[2025-10-11 01:52:48][0m =========================================
[0;32m[2025-10-11 01:52:48][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-11 01:52:48] Starting dependency installation
[2025-10-11 01:52:48] =========================================
[2025-10-11 01:52:48] RUNNING IN LOW MEMORY MODE
[2025-10-11 01:52:48] Suitable for Raspberry Pi and systems <2GB RAM
[2025-10-11 01:52:48] =========================================
[2025-10-11 01:52:48] Cleaning up old PostgreSQL repository configurations
[2025-10-11 01:52:48] Old repository configurations removed
[2025-10-11 01:52:48] Installing system dependencies
[2025-10-11 01:53:10] System dependencies installed
[2025-10-11 01:53:10] Installing PostgreSQL 18
[2025-10-11 01:53:10] Adding PostgreSQL GPG key...
[2025-10-11 01:53:13] GPG key added successfully
[2025-10-11 01:53:13] Adding PostgreSQL repository...
[2025-10-11 01:53:13] Updating package lists...
[2025-10-11 01:53:26] Installing PostgreSQL packages...
[2025-10-11 01:53:32] PostgreSQL 18 installed successfully
[2025-10-11 01:53:32] Configuring PostgreSQL
[2025-10-11 01:53:37] Stopping PostgreSQL to apply configuration...
[2025-10-11 01:53:40] Detected 906MB total memory
[2025-10-11 01:53:40] LOW MEMORY MODE: Using minimal settings for systems with <2GB RAM
[2025-10-11 01:53:41] Starting PostgreSQL with new configuration...
[2025-10-11 01:53:44] Checking PostgreSQL status...
â— postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/usr/lib/systemd/system/postgresql.service; enabled; preset: enabled)
     Active: active (exited) since Sat 2025-10-11 01:53:44 BST; 109ms ago
 Invocation: b82693a9598649db87692a0e58c5bb7c
    Process: 13085 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
   Main PID: 13085 (code=exited, status=0/SUCCESS)
        CPU: 32ms

Oct 11 01:53:44 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 11 01:53:44 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 01:53:44] Waiting for PostgreSQL to be ready...
[2025-10-11 01:53:44] PostgreSQL is ready and accepting connections
[2025-10-11 01:53:44] PostgreSQL configured and started successfully
[2025-10-11 01:53:44] Setting up database user
[2025-10-11 01:53:45] User database_user already exists
[2025-10-11 01:53:45] Database user setup completed
[2025-10-11 01:53:45] All dependencies installed successfully
[2025-10-11 01:53:45] 
[2025-10-11 01:53:45] PostgreSQL configured with low-memory settings:
[2025-10-11 01:53:45]   - shared_buffers: 128MB
[2025-10-11 01:53:45]   - work_mem: 4MB
[2025-10-11 01:53:45]   - maintenance_work_mem: 64MB
[2025-10-11 01:53:45]   - effective_cache_size: 256MB
[2025-10-11 01:53:45]   - max_connections: 20
[2025-10-11 01:53:45] Checking PostgreSQL availability...
[2025-10-11 01:53:45] PostgreSQL is available
[2025-10-11 01:53:45] Step 2: Setting up database and user
[2025-10-11 01:53:45] Creating database user: tpch_user
DO
[2025-10-11 01:53:46] Creating database: tpch_db
[2025-10-11 01:53:46] Using locale: C.utf8
DROP DATABASE
CREATE DATABASE
[2025-10-11 01:53:47] Granting permissions
GRANT
[2025-10-11 01:53:48] Step 3: Setting up TPC-H tools
[2025-10-11 01:53:48] TPC-H tools already exist, skipping download
[2025-10-11 01:53:48] Step 4: Generating and loading TPC-H data (this will take a while...)
[2025-10-11 01:53:48] Generating TPC-H data with scale factor 1...
TPC-H Population Generator (Version 2.14.0)
Copyright Transaction Processing Performance Council 1994 - 2010
[2025-10-11 01:56:40] Creating TPC-H schema...
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
[2025-10-11 01:56:40] Loading data into PostgreSQL...
[2025-10-11 01:56:40] Loading table: nation
ERROR:  extra data after last expected column
CONTEXT:  COPY nation, line 1: "0|ALGERIA|0| haggle. carefully final deposits detect slyly agai|"
[2025-10-11 01:56:41] Successfully loaded table: nation
[2025-10-11 01:56:41] Loading table: region
ERROR:  extra data after last expected column
CONTEXT:  COPY region, line 1: "0|AFRICA|lar deposits. blithely final packages cajole. regular waters are final requests. regular ac..."
[2025-10-11 01:56:41] Successfully loaded table: region
[2025-10-11 01:56:41] Loading table: part
ERROR:  extra data after last expected column
CONTEXT:  COPY part, line 1: "1|goldenrod lavender spring chocolate lace|Manufacturer#1|Brand#13|PROMO BURNISHED COPPER|7|JUMBO PK..."
[2025-10-11 01:56:42] Successfully loaded table: part
[2025-10-11 01:56:42] Loading table: supplier
ERROR:  extra data after last expected column
CONTEXT:  COPY supplier, line 1: "1|Supplier#000000001| N kD4on9OM Ipw3,gf0JBoQDd7tgrzrddZ|17|27-918-335-1736|5755.94|each slyly above..."
[2025-10-11 01:56:43] Successfully loaded table: supplier
[2025-10-11 01:56:43] Loading table: partsupp
ERROR:  extra data after last expected column
CONTEXT:  COPY partsupp, line 1: "1|2|3325|771.64|, even theodolites. regular, final theodolites eat after the carefully pending foxes..."
[2025-10-11 01:56:49] Successfully loaded table: partsupp
[2025-10-11 01:56:49] Loading table: customer
/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/customer.tbl: Permission denied
[2025-10-11 01:56:49] Successfully loaded table: customer
[2025-10-11 01:56:49] Loading table: orders
ERROR:  extra data after last expected column
CONTEXT:  COPY orders, line 1: "1|36901|O|173665.47|1996-01-02|5-LOW|Clerk#000000951|0|nstructions sleep furiously among |"
[2025-10-11 01:56:59] Successfully loaded table: orders
[2025-10-11 01:56:59] Loading table: lineitem
ERROR:  extra data after last expected column
CONTEXT:  COPY lineitem, line 1: "1|155190|7706|1|17|21168.23|0.04|0.02|N|O|1996-03-13|1996-02-12|1996-03-22|DELIVER IN PERSON|TRUCK|e..."
[2025-10-11 01:57:38] Successfully loaded table: lineitem
[2025-10-11 01:57:38] Data loading completed
[2025-10-11 01:57:38] Step 5: Creating indexes and constraints
[2025-10-11 01:57:38] Creating primary keys and indexes...
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
ANALYZE
[2025-10-11 01:57:39] Indexes and constraints created
[2025-10-11 01:57:39] TPC-H database creation completed successfully!
[2025-10-11 01:57:39] Database: tpch_db
[2025-10-11 01:57:39] User: tpch_user
[2025-10-11 01:57:39] Scale Factor: 1GB
[2025-10-11 01:57:39] Check /home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/installation.log for detailed logs
[0;32m[2025-10-11 02:19:02][0m Starting TPC-H database creation process...
[0;32m[2025-10-11 02:19:02][0m Scale Factor: 1GB
[0;32m[2025-10-11 02:19:02][0m PostgreSQL Version: 18
[0;32m[2025-10-11 02:19:02][0m =========================================
[0;32m[2025-10-11 02:19:02][0m RUNNING IN LOW MEMORY MODE
[0;32m[2025-10-11 02:19:02][0m Suitable for Raspberry Pi and systems <2GB RAM
[0;32m[2025-10-11 02:19:02][0m =========================================
[0;32m[2025-10-11 02:19:02][0m Step 1: Installing dependencies and PostgreSQL 18
[2025-10-11 02:19:02] Starting dependency installation
[2025-10-11 02:19:02] =========================================
[2025-10-11 02:19:02] RUNNING IN LOW MEMORY MODE
[2025-10-11 02:19:02] Suitable for Raspberry Pi and systems <2GB RAM
[2025-10-11 02:19:02] =========================================
[2025-10-11 02:19:02] Cleaning up old PostgreSQL repository configurations
[2025-10-11 02:19:02] Old repository configurations removed
[2025-10-11 02:19:02] Installing system dependencies
[2025-10-11 02:19:27] System dependencies installed
[2025-10-11 02:19:27] Installing PostgreSQL 18
[2025-10-11 02:19:27] Adding PostgreSQL GPG key...
[2025-10-11 02:19:48] GPG key added successfully
[2025-10-11 02:19:48] Adding PostgreSQL repository...
[2025-10-11 02:19:49] Updating package lists...
[2025-10-11 02:20:01] Installing PostgreSQL packages...
[2025-10-11 02:20:07] PostgreSQL 18 installed successfully
[2025-10-11 02:20:07] Configuring PostgreSQL
[2025-10-11 02:20:13] Stopping PostgreSQL to apply configuration...
[2025-10-11 02:20:16] Detected 906MB total memory
[2025-10-11 02:20:16] LOW MEMORY MODE: Using minimal settings for systems with <2GB RAM
[2025-10-11 02:20:16] Starting PostgreSQL with new configuration...
[2025-10-11 02:20:19] Checking PostgreSQL status...
â— postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/usr/lib/systemd/system/postgresql.service; enabled; preset: enabled)
     Active: active (exited) since Sat 2025-10-11 02:20:19 BST; 102ms ago
 Invocation: 279607cabca54e39a86d70103f6581bb
    Process: 14320 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
   Main PID: 14320 (code=exited, status=0/SUCCESS)
        CPU: 32ms

Oct 11 02:20:19 archraspberrypi systemd[1]: Starting postgresql.service - PostgreSQL RDBMS...
Oct 11 02:20:19 archraspberrypi systemd[1]: Finished postgresql.service - PostgreSQL RDBMS.
[2025-10-11 02:20:19] Waiting for PostgreSQL to be ready...
[2025-10-11 02:20:19] PostgreSQL is ready and accepting connections
[2025-10-11 02:20:19] PostgreSQL configured and started successfully
[2025-10-11 02:20:19] Setting up database user
[2025-10-11 02:20:19] User database_user already exists
[2025-10-11 02:20:20] Database user setup completed
[2025-10-11 02:20:20] All dependencies installed successfully
[2025-10-11 02:20:20] 
[2025-10-11 02:20:20] PostgreSQL configured with low-memory settings:
[2025-10-11 02:20:20]   - shared_buffers: 128MB
[2025-10-11 02:20:20]   - work_mem: 4MB
[2025-10-11 02:20:20]   - maintenance_work_mem: 64MB
[2025-10-11 02:20:20]   - effective_cache_size: 256MB
[2025-10-11 02:20:20]   - max_connections: 20
[2025-10-11 02:20:20] Checking PostgreSQL availability...
[2025-10-11 02:20:20] PostgreSQL is available
[2025-10-11 02:20:20] Step 2: Setting up database and user
[2025-10-11 02:20:20] Creating database user: tpch_user
DO
[2025-10-11 02:20:20] Creating database: tpch_db
[2025-10-11 02:20:20] Using locale: C.utf8
DROP DATABASE
CREATE DATABASE
[2025-10-11 02:20:22] Granting permissions
GRANT
[2025-10-11 02:20:23] Step 3: Setting up TPC-H tools
[2025-10-11 02:20:23] TPC-H tools already exist, skipping download
[2025-10-11 02:20:23] Step 4: Generating and loading TPC-H data (this will take a while...)
[2025-10-11 02:20:23] Generating TPC-H data with scale factor 1...
TPC-H Population Generator (Version 2.14.0)
Copyright Transaction Processing Performance Council 1994 - 2010
[2025-10-11 02:23:09] Creating TPC-H schema...
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
[2025-10-11 02:23:13] Loading data into PostgreSQL...
[2025-10-11 02:23:13] Loading table: nation
ERROR:  extra data after last expected column
CONTEXT:  COPY nation, line 1: "0|ALGERIA|0| haggle. carefully final deposits detect slyly agai|"
[2025-10-11 02:23:13] Successfully loaded table: nation
[2025-10-11 02:23:13] Loading table: region
ERROR:  extra data after last expected column
CONTEXT:  COPY region, line 1: "0|AFRICA|lar deposits. blithely final packages cajole. regular waters are final requests. regular ac..."
[2025-10-11 02:23:14] Successfully loaded table: region
[2025-10-11 02:23:14] Loading table: part
ERROR:  extra data after last expected column
CONTEXT:  COPY part, line 1: "1|goldenrod lavender spring chocolate lace|Manufacturer#1|Brand#13|PROMO BURNISHED COPPER|7|JUMBO PK..."
[2025-10-11 02:23:15] Successfully loaded table: part
[2025-10-11 02:23:15] Loading table: supplier
ERROR:  extra data after last expected column
CONTEXT:  COPY supplier, line 1: "1|Supplier#000000001| N kD4on9OM Ipw3,gf0JBoQDd7tgrzrddZ|17|27-918-335-1736|5755.94|each slyly above..."
[2025-10-11 02:23:16] Successfully loaded table: supplier
[2025-10-11 02:23:16] Loading table: partsupp
ERROR:  extra data after last expected column
CONTEXT:  COPY partsupp, line 1: "1|2|3325|771.64|, even theodolites. regular, final theodolites eat after the carefully pending foxes..."
[2025-10-11 02:23:22] Successfully loaded table: partsupp
[2025-10-11 02:23:22] Loading table: customer
/home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/tpch-tools/customer.tbl: Permission denied
[2025-10-11 02:23:22] Successfully loaded table: customer
[2025-10-11 02:23:22] Loading table: orders
ERROR:  extra data after last expected column
CONTEXT:  COPY orders, line 1: "1|36901|O|173665.47|1996-01-02|5-LOW|Clerk#000000951|0|nstructions sleep furiously among |"
[2025-10-11 02:23:31] Successfully loaded table: orders
[2025-10-11 02:23:31] Loading table: lineitem
ERROR:  extra data after last expected column
CONTEXT:  COPY lineitem, line 1: "1|155190|7706|1|17|21168.23|0.04|0.02|N|O|1996-03-13|1996-02-12|1996-03-22|DELIVER IN PERSON|TRUCK|e..."
[2025-10-11 02:24:11] Successfully loaded table: lineitem
[2025-10-11 02:24:11] Data loading completed
[2025-10-11 02:24:11] Step 5: Creating indexes and constraints
[2025-10-11 02:24:11] Creating primary keys and indexes...
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
ALTER TABLE
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
ANALYZE
[2025-10-11 02:24:12] Indexes and constraints created
[2025-10-11 02:24:12] TPC-H database creation completed successfully!
[2025-10-11 02:24:12] Database: tpch_db
[2025-10-11 02:24:12] User: tpch_user
[2025-10-11 02:24:12] Scale Factor: 1GB
[2025-10-11 02:24:12] Check /home/debian/analysis_asynchronous_db_read_operation/proof_of_concept/installation.log for detailed logs
